import zmq
import time

ctx = zmq.Context()
sock = ctx.socket(zmq.PUB)
sock.bind("tcp://127.0.0.1:5001")

msg = b"\x07\x07\x07\x02\x00\x03snr\x04@7\xf7\x1dy\x99\x99\x9a\x07\x07\x02\x00\x02df\x03\x00\x00\x00\x11\x07\x07\x02\x00\x04icao\x02\x00\x06a0d6a8\x07\x07\x02\x00\x08datetime\x02\x00\x1e2022-04-10 00:20:24.518293 UTC\x07\x07\x02\x00\ttimestamp\x04A\xd8\x94\x88\xb2!+\xb6\x07\x07\x02\x00\x08num_msgs\x03\x00\x00\x00\x02\x07\x07\x02\x00\tlongitude\x04\x7f\xf8\x00\x00\x00\x00\x00\x00\x07\x07\x02\x00\x08latitude\x04\x7f\xf8\x00\x00\x00\x00\x00\x00\x07\x07\x02\x00\rvertical_rate\x03\x00\x00\x00@\x07\x07\x02\x00\x07heading\x04\xc0`\xe61\xb1\x81C\xb1\x07\x07\x02\x00\x05speed\x04@z)\xc0\xefk\xd5\xeb\x07\x07\x02\x00\x08altitude\x04\x7f\xf8\x00\x00\x00\x00\x00\x00\x07\x07\x02\x00\x08callsign\x02\x00\x08EDV4673 \x06\n\x00\x00\x00\x00p\x01\x00\x01\x00\x00\x00\x01\x01\x00\x01\x01\x00\x01\x00\x00\x00\x00\x00\x01\x01\x00\x01\x00\x01\x01\x00\x01\x00\x01\x00\x01\x00\x00\x00\x01\x00\x00\x01\x01\x00\x00\x01\x00\x00\x00\x00\x01\x01\x00\x01\x00\x00\x01\x00\x01\x00\x01\x00\x01\x00\x01\x00\x00\x01\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x01\x00\x00\x01\x00\x00\x01\x01\x01\x00\x00\x01\x00\x01\x01\x00\x00\x01\x01\x01\x01\x00\x01\x00\x00\x01\x01\x00\x00\x01"
while True:
    sock.send(msg)
    print("sent")
    time.sleep(1)
# sock.send(msg)


sock.close()
ctx.term()
